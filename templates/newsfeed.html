<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Hive</title>
        <link href='https://fonts.googleapis.com/css?family=Karla' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="{{ static_url("css/reset.css") }}">
        <link rel="stylesheet" href="{{ static_url("css/newsfeed.css") }}">
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
	    <header role="banner">
	    	<div id="logo"><a href="/">Hive</a></div>
	    	<div class="header-wrapper">
	    		<nav role="navigation">
	    			<img id="mag-glass" src="{{ static_url("images/magnifying-glass-white.svg") }}">
	    			<input type="text" placeholder="Search" autocomplete="off" id="search">
	    		</nav>
	    	</div>
	    </header>
	    <div id="profile-info">
	    	<div id="profile-wrapper">
		    	<div id="profile-pic-and-text">
			    	<div id="profile-pic">
			    		<img src="{{ profile["profile_pic_link"] }}" alt="{{ profile["username"] }}'s avatar">
			    	</div>
			    	<div id="profile-text">
				    	<div id="username">
				    		<h1>{{ profile["username"] }}</h1>
				    	</div>
				    	<div id="profile-bio">
				    		<h3>{{ profile["bio"] }}</h3>
				    	</div>
				    </div>
				</div>
			    <div id="profile-buttons">
			    	{% if controlled == False %}
				    	<button type="submit" class="profile-button {% if follower %}active{% end %}" id="follow-button">
				    		{% if follower %}
				    			Followed
				    		{% else %}
				    			Follow
				    		{% end %}
				    	</button>
				    	<button type="submit" class="profile-button {% if hater %}active{% end %}" id="hate-button">
				    		{% if hater %}
				    			Hated
				    		{% else %}
				    			Hate
				    		{% end %}
				    	</button>
					{% end %}
				</div>
			</div>
	    </div>
	    <div id="profile-metrics">
	    	<div id="profile-metrics-wrapper">
		    	<div class="profile-metrics-text">
		    		<a href="/users/{{ str(profile["_id"]) }}/followers">
		    			<div class="text-num">{% if followers_count %}{{ followers_count["count"] }}{% else %}0{% end %}</div>
		    			<div class="text-str">followers</div>
		    		</a>
		    	</div>
		    	<div class="profile-metrics-text">
		    		<a href="/users/{{ str(profile["_id"]) }}/following">
			    		<div class="text-num">{% if following_count %}{{ following_count["count"] }}{% else %}0{% end %}</div>
			    		<div class="text-str">following</div>
			    	</a>
		    	</div>
				<div class="profile-metrics-text">
					<a href="/users/{{ str(profile["_id"]) }}/haters">
			    		<div class="text-num">{% if hater_count %}{{ hater_count["count"] }}{% else %}0{% end %}</div>
			    		<div class="text-str">haters</div>
			    	</a>
		    	</div>
		    	<div class="profile-metrics-text">
		    		<div class="text-num">0</div>
		    		<div class="text-str">votes</div>
		    	</div>
		    </div>
		</div>
		<div id="background-dark"></div>
		<div id="overlay">
			<h1 id="overlay-title">Followers</h1>
			<div id="overlay-content">
			</div>
		</div>
		<div id="overlay-close">&times</div>
     	<section>
     		{% if controlled %}
	     		<article id="ask-article">
	     			<div id="close-button">
	     				&times
	     			</div>
	     			<div id="open-button">
		     			<button>+</button>
		     			<h5>Ask a question</h5>
		     		</div>
					<div id="modal">
						<div id="modal-content">
							<form method="post" action="create_question">
								{% raw xsrf_form_html() %}
								<p id="question-error"></p>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/help.svg") }})" type="text" id="question-title" name="question-title" autocomplete="off" placeholder="Enter a question" maxlength="30">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/image.svg") }})" type="text" id="image-link" name="image-link" autocomplete="off" placeholder="Link to image (not required)">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-1" name="answer-1" autocomplete="off" placeholder="Option 1" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-2" name="answer-2" autocomplete="off" placeholder="Option 2" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-3" name="answer-3" autocomplete="off" placeholder="Option 3 (not required)" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-4" name="answer-4" autocomplete="off" placeholder="Option 4 (not required)" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-5" name="answer-5" autocomplete="off" placeholder="Option 5 (not required)" maxlength="20">
								</div>
								<button type="submit">Post Your Question<img src="{{ static_url("images/chevron-thin-right.svg") }}"></button>
							</form>
						</div>
					</div>
	     		</article>
	     	{% end %}
        	{% for question in questions %}
	        	{% module Question(question, db, False) %}
       		{% end %}
        </section>
        <footer role="contentinfo">
        	<ul>
                <li><a class="footer-links" href="">Blog</a></li>
                <li><a class="footer-links" href="">Email Us</a></li>
                <li><a class="footer-links" href="">Jobs</a></li>
                <li><a class="footer-links" href="">Terms</a></li>
                <li><a class="footer-links" href="">Privacy</a></li>
                <li><a class="footer-links" href="">Cookie</a></li>
                <li><a class="footer-links" href="">Copyright</a></li>
                <li>&copy; 2016<br>Hive, Inc.</li>
        	</ul>
        </footer>
        {% if controlled %}
	        <form method="post" action="logout">
	            {% raw xsrf_form_html() %}
	            <input type="submit" value="Log Out">
	        </form>
	    {% end %}
        <script src="{{ static_url("js/jquery.min.js") }}"></script>
        <script src="{{ static_url("js/newsfeed.js") }}"></script>
    </body>
</html>