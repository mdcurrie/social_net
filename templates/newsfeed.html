<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Hive</title>
        <link href='https://fonts.googleapis.com/css?family=Karla' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="{{ static_url("css/reset.css") }}">
        <link rel="stylesheet" href="{{ static_url("css/newsfeed.css") }}">
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
	    {% module Header() %}
	    <main>
		    {% module SideColumn() %}
	        <section id="main-content">
	        	<div id="main-content-header">
		        	<div id="main-content-title">
		        		Feed
		        	</div>
		        	<div id="main-content-selection">
		        		<div class="selection">
		        			Top
		        		</div>
		        		<div class="selection">
		        			Recent
		        		</div>
		        	</div>
		        </div>
		        <div id="feed">
		        	{% for idx, question in enumerate(questions) %}
		        		<div>
		        			<div>
		        				{% module Question(askers[idx], question, votes[idx], favorites[idx], shares[idx], comments[idx]) %}
		        			</div>
		        		</div>
					{% end %}
				</div>
		    </section>
		    <aside id="off-canvas-comments"></aside>
		    <div id="content-overlay"></div>
		</main>
	    <!--<section id="main-content">
	    	{% module Question(askers[0], questions[0], votes[0], favorites[0], shares[0], comments[0]) %} 
	    </section>-->
        <!--
	    <div id="profile-info">
	    	<div id="profile-wrapper">
		    	<div id="profile-pic-and-text">
			    	<div id="profile-pic">
			    		<img src="{{ profile["profile_pic_link"] }}" alt="{{ profile["username"] }}'s avatar">
			    	</div>
			    	<div id="profile-text">
				    	<div id="username">
				    		<h1>{{ profile["username"] }}</h1>
				    	</div>
				    	<div id="profile-bio">
				    		<h3>{{ profile["bio"] }}</h3>
				    	</div>
				    </div>
				</div>
			    <div id="profile-buttons">
			    	{% if controlled == False %}
				    	<button type="submit" class="profile-button {% if follower %}active{% end %}" id="follow-button">
				    		{% if follower %}
				    			Following
				    		{% else %}
				    			Follow
				    		{% end %}
				    	</button>
				    	<button type="submit" class="profile-button {% if hater %}active{% end %}" id="hate-button">
				    		{% if hater %}
				    			Hating
				    		{% else %}
				    			Hate
				    		{% end %}
				    	</button>
					{% end %}
				</div>
			</div>
	    </div>
	    <div id="profile-metrics">
	    	<div id="profile-metrics-wrapper">
		    	<div class="profile-metrics-text">
		    		<a href="/users/{{ str(profile["_id"]) }}/get_relationships?relationship=follower">
		    			<div class="text-num">{% if followers_count %}{{ followers_count["count"] }}{% else %}0{% end %}</div>
		    			<div class="text-str">followers</div>
		    		</a>
		    	</div>
		    	<div class="profile-metrics-text">
		    		<a href="/users/{{ str(profile["_id"]) }}/get_relationships?relationship=following">
			    		<div class="text-num">{% if following_count %}{{ following_count["count"] }}{% else %}0{% end %}</div>
			    		<div class="text-str">following</div>
			    	</a>
		    	</div>
				<div class="profile-metrics-text">
					<a href="/users/{{ str(profile["_id"]) }}/get_relationships?relationship=hater">
			    		<div class="text-num">{% if hater_count %}{{ hater_count["count"] }}{% else %}0{% end %}</div>
			    		<div class="text-str">haters</div>
			    	</a>
		    	</div>
		    	<div class="profile-metrics-text">
		    		<div class="text-num">0</div>
		    		<div class="text-str">votes</div>
		    	</div>
		    </div>
		</div>
		<div id="background-dark"></div>
		<div id="overlay">
			<h1 id="overlay-title">Followers</h1>
			<div id="overlay-content">
			</div>
		</div>
		<div id="overlay-close">&times</div>
     	<section>
     		{% if controlled %}
	     		<article id="ask-article">
	     			<div id="close-button">
	     				&times
	     			</div>
	     			<div id="open-button">
		     			<button>+</button>
		     			<h5>Ask a question</h5>
		     		</div>
					<div id="modal">
						<div id="modal-content">
							<form method="post" action="create_question">
								{% raw xsrf_form_html() %}
								<p id="question-error"></p>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/help.svg") }})" type="text" id="question-title" name="question-title" autocomplete="off" placeholder="Enter a question" maxlength="30">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/image.svg") }})" type="text" id="image-link" name="image-link" autocomplete="off" placeholder="Link to image (not required)">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-1" name="answer-1" autocomplete="off" placeholder="Option 1" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-2" name="answer-2" autocomplete="off" placeholder="Option 2" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-3" name="answer-3" autocomplete="off" placeholder="Option 3 (not required)" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-4" name="answer-4" autocomplete="off" placeholder="Option 4 (not required)" maxlength="20">
								</div>
								<div class="input-row">
									<input style="background-image: url({{ static_url("images/chevron-small-right.svg") }})" type="text" id="answer-5" name="answer-5" autocomplete="off" placeholder="Option 5 (not required)" maxlength="20">
								</div>
								<button type="submit">Post Your Question<img src="{{ static_url("images/chevron-thin-right.svg") }}"></button>
							</form>
						</div>
					</div>
	     		</article>
	     	{% end %}
        </section>
        {% if controlled %}
	        <form method="post" action="logout">
	            {% raw xsrf_form_html() %}
	            <input type="submit" value="Log Out">
	        </form>
	    {% end %} -->
        <script src="{{ static_url("js/jquery.min.js") }}"></script>
        <script src="{{ static_url("js/newsfeed.js") }}"></script>
    </body>
</html>